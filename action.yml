name: "Setup bolt cli"
description: "Installs and configures the bolt cli"

runs:
  using: "composite"
  steps:
    - name: "Setup Rust environment"
      uses: actions-rs/toolchain@v1
      with:
        toolchain: stable

    - name: "Install bolt"
      run: cargo install bolt-cli

    - name: "Configure bolt"
      shell: bash
      run: |
        echo MSG="${{ github.event.head_commit.message }}" | grep -oP '(?<=\()[^\)]+'

        TARGET="$(echo MSG="${{ github.event.head_commit.message }}" | grep -oP '(?<=\()[^\)]+')"

        export TARGET
